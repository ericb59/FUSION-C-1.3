/*
 ___________________________________________________________
/               __           _                              \
|              / _|         (_)                             |
|             | |_ _   _ ___ _  ___  _ __                   |
|             |  _| | | / __| |/ _ \| '_ \                  |
|             | | | |_| \__ \ | (_) | | | |                 |
|             |_|  \__,_|___/_|\___/|_| |_| *               |
|                                                           |
|               The MSX C Library for SDCC                  |
|                 E X A M P L E  C O D E                    |
|                                            FUSION-C v1.2  |
\___________________________________________________________/
*/
// Example : How to use SC2Pset and use a new Bitmap/Graphic Font stored in data
//
// Works on MSX1 and upper  
//
//
#include "fusion-c/header/msx_fusion.h"
#include "fusion-c/header/vdp_graph1.h"
#include "fusion-c/header/vdp_circle.h"

#include <stdlib.h>
#include <stdio.h>


#define __SDK_ADDRCODE__ 0x4024
#define __SDK_ADDRDATA__ 0xC000
#define __SDK_MSXVERSION__ 2
#define __SDK_CRT0__ crt0.rel
#define __SDK_EXT__ ROM 
#define __SDK_ROMSIZE__ 0xC000



int bit_test(char bit, char byte)
{
    bit = 1 << bit;
    return(bit & byte);
}

void bit_reset(char bit, char *byte)
{
    bit = 1 << bit;
    bit ^= 0xff;
    *byte = *byte & bit;
}



unsigned char Font4x6[] = {
0x00, 0x00, 0x00, 0x00, // Space
0x00, 0x2F, 0x00, 0x00, // !
0x07, 0x00, 0x07, 0x00, // "
0x14, 0x3F, 0x14, 0x3F, // #
0x12, 0x2A, 0x3F, 0x2A, // $
0x23, 0x13, 0x08, 0x32, // %
0x18, 0x29, 0x35, 0x28, // &
0x00, 0x05, 0x03, 0x00, // '
0x00, 0x1C, 0x22, 0x11, // (
0x00, 0x21, 0x22, 0x1C, // )
0x08, 0x2A, 0x2A, 0x08, // *
0x00, 0x08, 0x3E, 0x08, // +
0x00, 0x28, 0x30, 0x00, // ,
0x08, 0x08, 0x08, 0x08, // -
0x30, 0x30, 0x00, 0x00, // .
0x20, 0x10, 0x08, 0x04, // .  
0x1E, 0x29, 0x25, 0x1E, // 0
0x22, 0x3F, 0x20, 0x00, // 1
0x32, 0x29, 0x29, 0x26, // 2
0x12, 0x21, 0x25, 0x1A, // 3
0x0C, 0x0A, 0x3F, 0x08, // 4
0x17, 0x25, 0x25, 0x19, // 5
0x1E, 0x25, 0x25, 0x18, // 6
0x01, 0x39, 0x05, 0x03, // 7
0x1A, 0x25, 0x25, 0x1A, // 8
0x06, 0x29, 0x29, 0x1E, // 9
0x00, 0x36, 0x36, 0x00, // :
0x00, 0x56, 0x36, 0x00, // ;
0x08, 0x14, 0x22, 0x41, // <
0x14, 0x14, 0x14, 0x14, // =
0x41, 0x22, 0x14, 0x08, // >
0x02, 0x29, 0x09, 0x06, // ?
0x32, 0x29, 0x59, 0x21, // @
0x3E, 0x09, 0x09, 0x3E, // A
0x3F, 0x25, 0x25, 0x1A, // B
0x1E, 0x21, 0x21, 0x12, // C
0x3F, 0x21, 0x21, 0x1E, // D  
0x3F, 0x25, 0x25, 0x21, // E
0x3F, 0x05, 0x05, 0x01, // F
0x1E, 0x21, 0x29, 0x3A, // G  
0x3F, 0x04, 0x04, 0x3F, // H
0x21, 0x3F, 0x21, 0x00, // I
0x10, 0x21, 0x21, 0x1F, // J
0x3F, 0x04, 0x0A, 0x31, // K  
0x3F, 0x20, 0x20, 0x20, // L
0x3F, 0x02, 0x02, 0x3F, // M
0x3F, 0x02, 0x04, 0x3F, // N
0x1E, 0x21, 0x21, 0x1E, // O
0x3F, 0x09, 0x09, 0x06, // P  
0x1E, 0x21, 0x11, 0x2E, // Q
0x3F, 0x09, 0x09, 0x36, // R
0x22, 0x25, 0x25, 0x19, // S
0x01, 0x3F, 0x01, 0x01, // T
0x1F, 0x20, 0x20, 0x1F, // U
0x0F, 0x10, 0x20, 0x1F, // V
0x3F, 0x10, 0x10, 0x3F, // W  
0x3B, 0x04, 0x04, 0x3B, // X  
0x03, 0x04, 0x38, 0x07, // Y
0x31, 0x2D, 0x23, 0x21, // Z
0x00, 0x3F, 0x21, 0x21, // [
0x02, 0x04, 0x08, 0x10, // "\"
0x21, 0x21, 0x3F, 0x00, // ]
0x04, 0x02, 0x02, 0x04, // ^
0x20, 0x20, 0x20, 0x20, // _
0x00, 0x01, 0x02, 0x04, // `
0x10, 0x2A, 0x2A, 0x3C, // a
0x3F, 0x24, 0x24, 0x18, // b
0x1C, 0x22, 0x22, 0x14, // c
0x18, 0x24, 0x24, 0x3F, // d
0x1C, 0x2A, 0x2A, 0x2C, // e
0x04, 0x7E, 0x05, 0x01, // f
0x26, 0x29, 0x29, 0x3E, // g
0x3F, 0x04, 0x04, 0x38, // h
0x24, 0x3D, 0x20, 0x00, // i
0x10, 0x24, 0x1d, 0x00, // j
0x3F, 0x08, 0x14, 0x22, // k
0x21, 0x3F, 0x20, 0x00, // l
0x3E, 0x04, 0x04, 0x3E, // m
0x3E, 0x04, 0x02, 0x3C, // n
0x1C, 0x22, 0x22, 0x1C, // o
0x3E, 0x12, 0x12, 0x0C, // p
0x0C, 0x12, 0x12, 0x3E, // q
0x3E, 0x04, 0x02, 0x04, // r
0x24, 0x2A, 0x2A, 0x12, // s
0x02, 0x1F, 0x22, 0x20, // t
0x1E, 0x20, 0x20, 0x1E, // u
0x0E, 0x10, 0x20, 0x1E, // v
0x3E, 0x10, 0x10, 0x3E, // w
0x36, 0x08, 0x08, 0x36, // x
0x4E, 0x50, 0x50, 0x3E, // x
0x32, 0x2A, 0x26, 0x22, // z
};

void PrintBitmap(unsigned char letter, unsigned int tx, unsigned int ty, char color)
{

  char x,y;
  y=0;
  x=0;
 
  while (x<4)
  {
      y=0;
     
      while (y<6)
      {
        

        if (bit_test(y,Font4x6[((letter-32)*4)+x]))
        {
          SC2Pset(tx+x,ty+y,color);
        } 
       
        y++;
        
      }
      x++;

    }
  
}



  void main(void)
  {

    char text1[]="F U S I O N - C";
    char text2[]="PRESENTED";
    char text3[]="by";
    char text4[]="Eric Boez & Fernando Garcia";
    char i;
    int z,a,b,c,d;
    i=0;

    SetColors(15,1,1);
    Screen(2);
    SetColors(15,1,1);

    SetRealTimer(0);
   
    
    SC2BoxLine(10,40,110,130,5);
    SC2BoxFill(130,40,230,130,6);
    
   

  while (text1[i])
   {
      PrintBitmap(text1[i],98+i*5,10,15);
      i++;
   }
   i=0;
   while (text2[i])
   {
      PrintBitmap(text2[i],105+i*5,18,14);
      i++;
   }

     
  PrintBitmap('B',106,150,2);
  PrintBitmap('L',111,152,2);
  PrintBitmap('O',116,152,2);
  PrintBitmap('O',122,152,10);
  PrintBitmap('D',128,152,10);
  PrintBitmap('.',133,152,10);
  PrintBitmap('7',138,152,8);
  PrintBitmap('7',143,152,8);
  PrintBitmap('7',148,152,8);


  i=0;
   while (text3[i])
   {
      PrintBitmap(text3[i],122+i*5,25,14);
      i++;
   }
 
  
  
  PrintBitmap('2',148,176,9);
  i=0;
   while (text4[i])
   {
      PrintBitmap(text4[i],60+i*5,32,14);
      i++;
   }
    
  


    z=RealTimer();
    a=SC2Point(10,50);
    b=SC2Point(9,50);
    c=SC2Point(10,51);
    d=SC2Point(11,51);

WaitForKey();
Screen(0);
Exit(0);
}